[supervisord]
nodaemon=true
logfile=/app/logs/supervisord.log
pidfile=/tmp/supervisord.pid

[program:gunicorn]
command=gunicorn -w 4 -b 0.0.0.0:8000 app:app --timeout 120
directory=/app
user=root
autostart=true
autorestart=true
stdout_logfile=/app/logs/gunicorn.log
stderr_logfile=/app/logs/gunicorn.error.log

[program:celery]
command=celery -A app.celery worker --loglevel=info
directory=/app
user=root
autostart=true
autorestart=true
stdout_logfile=/app/logs/celery.log
stderr_logfile=/app/logs/celery.error.log

[program:celery-beat]
command=celery -A app.celery beat --loglevel=info
directory=/app
user=root
autostart=true
autorestart=true
stdout_logfile=/app/logs/celery-beat.log
stderr_logfile=/app/logs/celery-beat.error.log
